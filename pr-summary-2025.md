# PR Summary for dentally/dentr - 2025

## Overview
- **Total PRs**: 209
- **Merged**: 166
- **Open**: 1
- **Closed**: 42

## By Month

### January 2025 (24 PRs)
- âœ… #7605: fix: smile goals fixes
- âœ… #7600: fix: stagger canary deploys to avoid hitting rate limit
- âœ… #7599: fix: fix getStandardPaymentPlan to take payment plan site_id into account
- âœ… #7596: fix: remove temporary code now that everything released
- âœ… #7592: feat: plug in creation for new patient smile goal
- âœ… #7587: fix: remove uses of use-patient-actions feature flag
- âœ… #7586: fix: change backend to always return all patient actions (with required field)
- âœ… #7585: feat: handle patient actions with required=false on front end
- âœ… #7584: feat: add required field to patient actions graph (always set to true) (PR 1)
- âœ… #7583: fix: show FP17 action on concierge regardless of site settings
- âŒ #7582: Mav 1588 2
- âŒ #7581: feat: remove nhs pr exemption and reason from NHS PR page
- âŒ #7577: feat: always use dentally practice for staff api X-Practice-Id - DEPENDS ON 7651
- âœ… #7569: fix: remove 'temporary' fix to remove multiple SiteDefaultPaymentPlans for a site
- âœ… #7568: refactor: move multiVariateFeature to fix backend linting error
- âœ… #7566: fix: drop payment_plan_id from primary key on SiteDefaultPaymentPlan(Audit)
- âœ… #7562: refactor: enforce practice_id query param when using staff api
- âœ… #7558: fix: handle site default_payment_plan_id being a none existent Payment Plan (MAV-1613)
- âœ… #7550: fix: add generic rate limiting for graphql
- âœ… #7541: fix: don't wait for dentally-mock when deploying sandbox through GH action
- âœ… #7539: fix: add appointment_ids param when creating patient document for FP17
- âŒ #7526: fix: add appointment_ids param when creating patient document for FP17 - FE
- âŒ #7525: fix: add appointment_ids param when creating patient document for FP17 - BE
- âœ… #7517: fix: fix pusher error when refreshing cache with new practitioner

### February 2025 (28 PRs)
- âœ… #7755: fix: temporarily skip broken e2es on master - MAV-1896
- âœ… #7751: fix(e2e): change addInitScript to only run on portal.dental domains - MAV-1894
- âœ… #7733: fix: concierge should only show actions for todays appointments - MAV-1833
- âŒ #7708: feat: only request today's actions for concierge - MAV-7708
- âœ… #7701: fix: handle multiple actions of the same type but for different appointments - MAV-1830
- âœ… #7696: feat: add e2e test for task reminder sending - MAV-1714
- âœ… #7693: feat: add logging for where patient id is expected to be defined but is undefined - MAV-1792
- âŒ #7691: test: change stripe branding unit tests to use tiny image - MAV-1814
- âœ… #7689: feat: deprecate db service and db async service - MAV-1812
- âœ… #7686: fix: prevent tagging canaries to work around deploy issue - MAV-1807
- âŒ #7683: fix: error when patient id is not set but is being used - MAV-1792
- âœ… #7682: fix: ui issue with marking gp 17 action as completed - MAV-1781
- âœ… #7680: style: make formatting consistent for whole codebase - MAV-1776
- âœ… #7676: fix: enable Data API for rds clusters
- âœ… #7670: fix: workaround seed deploy issues by force deploying production stages (MAV-1763)
- âœ… #7669: fix: run prettier formatting on all files
- âœ… #7667: feat: add pr title check for ticket number - MAV-1720
- âœ… #7657: test: add e2e test to check held appointment functionality
- âŒ #7655: fix: change patient id on context wrapper to be optionally typed - MAV-1748 DEPENDS ON 7683
- âœ… #7652: fix: revert "refactor: enforce practice_id query param when using staff api (#7562)"
- âŒ #7651: fix: handle null or undefined parameters in queryParametersRecordToString (MAV-1745)
- âœ… #7644: fix: fix book together edge case leading to deposits taken without booking appointment (MAV-1733)
- âœ… #7639: fix: increase graph lambda memory from 1024 to 2048
- âŒ #7635: Feature/mav 1703 bugsnag improvements and hc3 fix
- âœ… #7633: fix: fix no space directive to handle decimals (MAV-1725)
- âŒ #7618: Bugfix/mav 1717 logging
- âŒ #7617: feat: add availability profiling (MAV-1708)
- âŒ #7615: feat: add danger file warning for missing issue number in pr title

### March 2025 (37 PRs)
- âœ… #7909: refactor: move sharp operations into seperate lambda to fix sharp pipeline error - MAV-2123
- âœ… #7908: fix: remove replication to sydney for global-user-sessions table - MAV-2121
- âœ… #7900: fix: add tsconfig to stage-region-limited-resources - MAV-2114
- âœ… #7899: fix: add linting and fix issues for ci-cd - MAV-2112
- âœ… #7897: fix: provide sharp package for stripe payments handler lambda - MAV-2102
- âœ… #7895: fix: fix broken appointment e2e tests - MAV-2105
- âœ… #7891: fix: ensure sharp is installed for the lambdas which import it - MAV-2102
- âœ… #7887: fix: redact graph params from the logger metadata body - MAV-1968
- âŒ #7882: fix: create graphql service
- âŒ #7881: Mav 2039
- âœ… #7876: fix: remove monitoring and feature flags stacks so they are no longer updated - MAV-2071
- âŒ #7875: fix: use patched version of sst - DRAFT 
- âŒ #7874: fix: provide sharp as external package to SST
- âœ… #7867: fix: provide sharp as external package to SST - MAV-2028
- âŒ #7866: fix: provide sharp as external package to SST - MAV-2028
- âŒ #7865: DO NOT REVIEW Mav 2028 2
- âœ… #7861: fix: include id, uuid and initials when aliasing patient in Mixpanel - MAV-2057
- âœ… #7851: fix: log normalised path (without numbers) in PMS API audit - MAV-2036
- âœ… #7850: feat: log details of resource actions by access level - MAV-2037
- âŒ #7849: fix: install sst from fork - MAV-2028
- âœ… #7824: test: temporarily skip running the task reminder sending e2es - MAV-1950
- âœ… #7813: feat: add refresh cache step to check for SitePaymentPlan issue - MAV-1978
- âœ… #7812: fix: improve task reminder sending e2e - MAV-1950
- âœ… #7809: fix: remove unused parameters - MAV-1967
- âœ… #7808: fix: remove mailosaur code and params which are no longer used - MAV-1962
- âœ… #7805: fix: fix issue rebooking when first attempt fails - MAV-1759
- âœ… #7801: fix: skip flaky e2e and fix other flaky e2e - MAV-7801
- âŒ #7800: Mav 1950 fix flaky e 2 es
- âŒ #7795: Mav 1833
- âœ… #7792: feat: add sandbox pipeline for deploying to sandbox backend and UI  - MAV-1880
- âœ… #7789: fix: fix bug with tracking NHS PR Action Done metric - MAV-1929
- âœ… #7788: fix: unskip e2es which are now fixed - MAV-1894
- âœ… #7786: fix: only assign next appointment to patient document when signing NHS PR - MAV-1858
- âŒ #7776: fix: fix bug with tracking NHS PR Action Done metric - MAV-1929
- âŒ #7774: fix: only assign next appointment to patient document when signing NHS PR - MAV-1858
- âŒ #7770: fix: hardcode API Gateway domain name tag to unblock deployments
- âœ… #7763: fix: change getPatientIdOrThrow to throw error instead of logging - MAV-1748

### April 2025 (9 PRs)
- âœ… #7991: fix: fix pre-selection of practitioner option for GP17 - MAV-2209
- âœ… #7990: fix: remove region limited resources app - MAV-2220
- âœ… #7989: fix: fix devenv script - MAV-2217
- âœ… #7988: feat: ensure patient details verification has correct permissions - MAV-2194
- âœ… #7958: feat: add eslint rule to prevent using sharp package directly - MAV-2175
- âœ… #7940: feat: improvement to DX - automatically update security group to include IP if ssh times out - MAV-2158
- âœ… #7939: fix: update NHS England prices - MAV-2154
- âœ… #7926: fix: don't update feature flags stack for region limited resources - MAV-2144
- âœ… #7913: fix: fix redacting of graphql params in logging - MAV-2131

### May 2025 (22 PRs)
- âŒ #8137: feat: notify slack when e2e pipeline fails
- âœ… #8131: fix(e2e): better error message on global setup failure - MAV-2340
- âœ… #8119: refactor: remove access_token secret request from by jwt-authorizer - MAV-1084
- âœ… #8116: fix: ignore 'misspellings' highlighted by eslint - MAV-2447
- âœ… #8112: feat: add p:tablet_app Mixpanel property to Practice - MAV-2348
- âœ… #8107: fix: fix issues with start-rds-tunnel - MAV-2445
- âŒ #8096: feat: add No Actions Due metric - MAV-2320
- âœ… #8092: fix: additional logging to help debug e2e refresh cache errors - MAV-2332
- âœ… #8090: feat: add eslint rule for importing environment.sst directly - MAV-2394
- âœ… #8085: fix: restore foreign keys when restoring db after e2e test run - MAV-2388
- âœ… #8077: fix: pass in hso_region when creating short codes for e2es - MAV-2382
- âœ… #8075: fix: move concierge log out button back to new line - MAV-2374
- âœ… #8072: fix: add operationName to manage app graph queries - MAV-2365
- âœ… #8070: fix: add e2e test for multiple patient short codes on same device - MAV-2379
- âœ… #8062: fix: ensure correct lang code is sent when creating nhs form - MAV-2353
- âœ… #8056: fix: custom handling for pip authorize 404 pms error - MAV-2351
- âœ… #8054: fix: fix language switch button for NHS PR - MAV-2349
- âœ… #8044: docs: add pms oauth refresh setup doc to ADD_NEW_REGION.md - MAV-2329
- âœ… #8043: fix: fix patient ready lambda error due to missing variable - MAV-2331
- âœ… #8040: fix: install semantic release and @semantic-release/exec in release candidate workflow - MAV-2327
- âœ… #8036: feat: add Accept-CH header to make browsers send platform version header along with user agent and log - MAV-2323
- âœ… #8026: fix: remove aws-xray-sdk and https packages and all related code - MAV-2303

### June 2025 (24 PRs)
- âœ… #8250: fix: import issue - MAV-2542
- âœ… #8249: feat: change view-audit-data script to format output nicely - MAV-2541
- âœ… #8246: fix: fix unsubscribe page - MAV-2538
- âœ… #8242: fix: add device cookie to logger metadata - MAV-2536
- âœ… #8238: fix: add a reset data button to the concierge error page when app fails to initialise - MAV-2532
- âœ… #8230: fix: remove parameters which are no longer needed - MAV-2521
- âœ… #8228: feat: add site nickname to 'All site appointment details, for all sites' report - MAV-2520
- âœ… #8227: test: temporarily skip 'ping device' step of concierge e2e test - MAV-2519
- âœ… #8226: fix: ignore oneline misspelling - MAV-2518
- âœ… #8225: fix: flaky manage payment plans e2e test - MAV-2517
- âœ… #8219: fix: correct path for ssl certs when running patient app locally - MAV-2511
- âœ… #8217: fix: change default CodeBuild box size to MEDIUM - MAV-2479
- âœ… #8196: feat: add logging to help identify issue with e2es - MAV-2495
- âœ… #8193: feat: prevent running pipelines on wrong account - MAV-2487
- âŒ #8188: feat: add account check when depoying pipelines, and refactor - MAV-2487
- âŒ #8187: Wip pipelines
- âœ… #8177: fix: fix for auditing SitePaymentPlanCategory - MAV-2484
- âœ… #8175: fix: fix running integration tests - MAV-2480
- âœ… #8166: fix: add in retry when clearing mock dynamo tables for e2e tests - MAV-2465
- âœ… #8165: fix: change docker-run-cmd to fail on any command failure - MAV-2477
- âœ… #8162: fix: ensure we are passing tsconfig-paths/register flag everywhere we use ts-node - MAV-2472
- âœ… #8161: fix: change export import to export const to fix playwright tests - MAV-2470
- âœ… #8154: fix: fix patient app infra issue and pr pipeline issue - MAV-2468
- âœ… #8150: test: skip flaky apse2 e2e test - MAV-2460

### July 2025 (9 PRs)
- âœ… #8356: fix: update hearbeat on graph requests rather than from a mutation from the frontend - MAV-2705
- âŒ #8347: Revert "fix: ignore portal_active flag to allow short codes to work fâ€¦
- âŒ #8333: fix: change to cause new js file names - No need to review
- âœ… #8294: feat: kiosk e2e tests - MAV-2584
- âœ… #8287: fix: fix refresh cache error with e2es due to issue clearing mock data from previous run - MAV-2577
- âœ… #8285: fix: use pms url parameter for manage app links and practice booking email - MAV-2580
- âŒ #8275: fix: fix refresh cache error with e2es due to issue clearing mock data from previous run - MAV-2577
- âŒ #8270: fix: issue with Concierge patients logging out multiple times and unpâ€¦
- âŒ #8266: feat: update refresh token session to use a blacklist and fix a bug wâ€¦

### August 2025 (27 PRs)
- âœ… #8448: fix: revert 'refactor: use mixpanel rather than timestream for manage app dashboards - (#8420)' - MAVE-123
- âœ… #8443: fix: handle error response from backend in performance dashboards - MAVE-119
- âœ… #8441: fix: fix refresh cache finalize step by adding permissions for s3 audit bucket - MAVE-116
- âœ… #8435: fix: fix post deploy update - MAVE-107
- âœ… #8432: fix: add retry mechanism when making jira api calls - MAVE-103
- âœ… #8428: fix: move low level auditing cleanup job to vpc - MAVE-100
- âœ… #8425: test: add e2es for kiosk lateness - MAVE-94
- âœ… #8420: refactor: use mixpanel rather than timestream for manage app dashboards - MAVE-80
- âœ… #8415: fix: set logger metadata for graph-internal invocations - MAVE-84
- âœ… #8413: feat: add new secret for querying mixpanel - MAVE-79
- âœ… #8412: fix: fix device heartbeat by moving inside vpc - MAVE-25
- âŒ #8408: Revert "refactor: device heartbeat improvements - MAVE-25 (#8387)"
- âœ… #8407: fix: move low level audit cleanup to cron job - MAVE-51
- âŒ #8402: fix: prevent recursive invocation alert when oauth goes wrong
- âœ… #8395: feat: fix API audit when items too large for SQS - MAVE-44
- âœ… #8389: fix: change oauth refesh logic to refresh every hour - MAVE-32
- âœ… #8388: fix: correct GlobalAndRegion step of pipeline to just Global - MAVE-26
- âœ… #8387: refactor: device heartbeat improvements - MAVE-25
- âœ… #8384: fix: fix PR title check error - MAVE-22
- âœ… #8383: fix: revert 'feat: move s3 audit to regional stack' - MAVE-21
- âœ… #8382: fix: fix new patient flow when existing patient found - MAVE-18
- âœ… #8379: fix: fix device heartbeat error - MAV-2705
- âœ… #8375: fix: don't update heartbeat if ui version header is not set - MAV-2730
- âœ… #8371: fix: fix permissions issue for patient app session handler - MAV-2726
- âœ… #8370: fix: fix issues with device version - MAV-2687
- âœ… #8369: fix: revert api audit S3 bucket change PRs - MAV-2725
- âœ… #8361: fix: use fetch instead of HttpClient for ping.png - MAV-2714

### September 2025 (12 PRs)
- âœ… #8537: fix: fix kiosk settings issue - MAVE-273
- âœ… #8533: fix: remove device heartbeat error when device not found - MAVE-193
- âŒ #8523: wip: add new patient integration test
- âœ… #8520: fix: fix post deploy update which was causing error in pipeline - MAVE-256
- âœ… #8519: fix: re-enable New Relic firehose streams - MAVE-254
- âœ… #8508: fix: fix consent service issues - MAVE-227
- âœ… #8505: fix: fix deploy issue due to manually deleted firehose streams - MAVE-224
- âœ… #8483: fix(logger): redact excluded keys from stringified JSON body and ensure stage and version are always in metadata - MAVE-170
- âœ… #8480: fix: quick win fixes for error codes causing prod alerts - MAVE-167
- âœ… #8468: fix: revert recall action changes - MAVE-152
- âœ… #8466: fix: add error when graph returns an error from any resolver - MAVE-148
- âœ… #8451: refactor: use mixpanel rather than timestream for manage app dashboards - MAVE-80

### October 2025 (5 PRs)
- âœ… #8582: fix: revert PRs blocking release - MAVE-374
- âŒ #8580: fix: hardcode task reminder notification type to sms to fix incident
- âŒ #8579: fix: hardcode task reminder notification type to sms to fix incident
- âœ… #8560: fix: minor fixes to rollback script - MAVE-302
- âœ… #8558: fix: fix mixpanel site lateness property syncing - MAVE-299

### November 2025 (6 PRs)
- âœ… #8610: fix: replace npm with pnpm - MAVE-438
- âŒ #8609: chore: switch from npm to pnpm - MAVE-438
- âœ… #8608: fix: change chunkedQuery to query and add logging for slow query - MAVE-427
- âœ… #8607: fix: lock packages to specific versions - MAVE-436
- âœ… #8606: fix: take practice timezone into account for integration tests - MAVE-427
- âœ… #8605: fix: add data to bookability profiling logging - MAVE-424

### December 2025 (6 PRs)
- âœ… #8623: fix: disable api auditing on sandbox - MAVE-460
- âœ… #8622: fix: remove New Relic step from prod release and other pipeline fixes - MAVE-462
- ğŸŸ¡ #8618: Mave 456
- âœ… #8615: fix: fix rc github action - MAVE-452
- âœ… #8613: fix: fix e2e tests - MAVE-449
- âŒ #8612: Trigger CI

## Key Themes

### Infrastructure & DevOps (29 PRs)
- âœ… #8622: fix: remove New Relic step from prod release and other pipeline fixes - MAVE-462 (2025-12)
- âœ… #8615: fix: fix rc github action - MAVE-452 (2025-12)
- âœ… #8610: fix: replace npm with pnpm - MAVE-438 (2025-11)
- âŒ #8609: chore: switch from npm to pnpm - MAVE-438 (2025-11)
- âœ… #8560: fix: minor fixes to rollback script - MAVE-302 (2025-10)
- âœ… #8520: fix: fix post deploy update which was causing error in pipeline - MAVE-256 (2025-09)
- âœ… #8505: fix: fix deploy issue due to manually deleted firehose streams - MAVE-224 (2025-09)
- âœ… #8441: fix: fix refresh cache finalize step by adding permissions for s3 audit bucket - MAVE-116 (2025-08)
- âœ… #8435: fix: fix post deploy update - MAVE-107 (2025-08)
- âœ… #8388: fix: correct GlobalAndRegion step of pipeline to just Global - MAVE-26 (2025-08)
- âœ… #8383: fix: revert 'feat: move s3 audit to regional stack' - MAVE-21 (2025-08)
- âœ… #8371: fix: fix permissions issue for patient app session handler - MAV-2726 (2025-08)
- âœ… #8217: fix: change default CodeBuild box size to MEDIUM - MAV-2479 (2025-06)
- âœ… #8193: feat: prevent running pipelines on wrong account - MAV-2487 (2025-06)
- âŒ #8188: feat: add account check when depoying pipelines, and refactor - MAV-2487 (2025-06)
- âŒ #8187: Wip pipelines (2025-06)
- âœ… #8165: fix: change docker-run-cmd to fail on any command failure - MAV-2477 (2025-06)
- âœ… #8154: fix: fix patient app infra issue and pr pipeline issue - MAV-2468 (2025-06)
- âŒ #8137: feat: notify slack when e2e pipeline fails (2025-05)
- âœ… #7988: feat: ensure patient details verification has correct permissions - MAV-2194 (2025-04)
- âœ… #7926: fix: don't update feature flags stack for region limited resources - MAV-2144 (2025-04)
- âœ… #7909: refactor: move sharp operations into seperate lambda to fix sharp pipeline error - MAV-2123 (2025-03)
- âœ… #7876: fix: remove monitoring and feature flags stacks so they are no longer updated - MAV-2071 (2025-03)
- âœ… #7792: feat: add sandbox pipeline for deploying to sandbox backend and UI  - MAV-1880 (2025-03)
- âŒ #7770: fix: hardcode API Gateway domain name tag to unblock deployments (2025-03)
- âœ… #7686: fix: prevent tagging canaries to work around deploy issue - MAV-1807 (2025-02)
- âœ… #7670: fix: workaround seed deploy issues by force deploying production stages (MAV-1763) (2025-02)
- âœ… #7600: fix: stagger canary deploys to avoid hitting rate limit (2025-01)
- âœ… #7541: fix: don't wait for dentally-mock when deploying sandbox through GH action (2025-01)

### Testing & Quality (30 PRs)
- âœ… #8613: fix: fix e2e tests - MAVE-449 (2025-12)
- âœ… #8606: fix: take practice timezone into account for integration tests - MAVE-427 (2025-11)
- âŒ #8523: wip: add new patient integration test (2025-09)
- âœ… #8425: test: add e2es for kiosk lateness - MAVE-94 (2025-08)
- âœ… #8294: feat: kiosk e2e tests - MAV-2584 (2025-07)
- âœ… #8287: fix: fix refresh cache error with e2es due to issue clearing mock data from previous run - MAV-2577 (2025-07)
- âŒ #8275: fix: fix refresh cache error with e2es due to issue clearing mock data from previous run - MAV-2577 (2025-07)
- âœ… #8227: test: temporarily skip 'ping device' step of concierge e2e test - MAV-2519 (2025-06)
- âœ… #8225: fix: flaky manage payment plans e2e test - MAV-2517 (2025-06)
- âœ… #8196: feat: add logging to help identify issue with e2es - MAV-2495 (2025-06)
- âœ… #8175: fix: fix running integration tests - MAV-2480 (2025-06)
- âœ… #8166: fix: add in retry when clearing mock dynamo tables for e2e tests - MAV-2465 (2025-06)
- âœ… #8161: fix: change export import to export const to fix playwright tests - MAV-2470 (2025-06)
- âœ… #8150: test: skip flaky apse2 e2e test - MAV-2460 (2025-06)
- âœ… #8131: fix(e2e): better error message on global setup failure - MAV-2340 (2025-05)
- âœ… #8092: fix: additional logging to help debug e2e refresh cache errors - MAV-2332 (2025-05)
- âœ… #8085: fix: restore foreign keys when restoring db after e2e test run - MAV-2388 (2025-05)
- âœ… #8077: fix: pass in hso_region when creating short codes for e2es - MAV-2382 (2025-05)
- âœ… #8070: fix: add e2e test for multiple patient short codes on same device - MAV-2379 (2025-05)
- âœ… #7895: fix: fix broken appointment e2e tests - MAV-2105 (2025-03)
- âœ… #7824: test: temporarily skip running the task reminder sending e2es - MAV-1950 (2025-03)
- âœ… #7812: fix: improve task reminder sending e2e - MAV-1950 (2025-03)
- âœ… #7801: fix: skip flaky e2e and fix other flaky e2e - MAV-7801 (2025-03)
- âŒ #7800: Mav 1950 fix flaky e 2 es (2025-03)
- âœ… #7788: fix: unskip e2es which are now fixed - MAV-1894 (2025-03)
- âœ… #7755: fix: temporarily skip broken e2es on master - MAV-1896 (2025-02)
- âœ… #7751: fix(e2e): change addInitScript to only run on portal.dental domains - MAV-1894 (2025-02)
- âœ… #7696: feat: add e2e test for task reminder sending - MAV-1714 (2025-02)
- âŒ #7691: test: change stripe branding unit tests to use tiny image - MAV-1814 (2025-02)
- âœ… #7657: test: add e2e test to check held appointment functionality (2025-02)

### Monitoring & Logging (33 PRs)
- âœ… #8623: fix: disable api auditing on sandbox - MAVE-460 (2025-12)
- âœ… #8608: fix: change chunkedQuery to query and add logging for slow query - MAVE-427 (2025-11)
- âœ… #8605: fix: add data to bookability profiling logging - MAVE-424 (2025-11)
- âœ… #8558: fix: fix mixpanel site lateness property syncing - MAVE-299 (2025-10)
- âœ… #8519: fix: re-enable New Relic firehose streams - MAVE-254 (2025-09)
- âœ… #8483: fix(logger): redact excluded keys from stringified JSON body and ensure stage and version are always in metadata - MAVE-170 (2025-09)
- âœ… #8451: refactor: use mixpanel rather than timestream for manage app dashboards - MAVE-80 (2025-09)
- âœ… #8448: fix: revert 'refactor: use mixpanel rather than timestream for manage app dashboards - (#8420)' - MAVE-123 (2025-08)
- âœ… #8428: fix: move low level auditing cleanup job to vpc - MAVE-100 (2025-08)
- âœ… #8420: refactor: use mixpanel rather than timestream for manage app dashboards - MAVE-80 (2025-08)
- âœ… #8415: fix: set logger metadata for graph-internal invocations - MAVE-84 (2025-08)
- âœ… #8413: feat: add new secret for querying mixpanel - MAVE-79 (2025-08)
- âœ… #8407: fix: move low level audit cleanup to cron job - MAVE-51 (2025-08)
- âœ… #8395: feat: fix API audit when items too large for SQS - MAVE-44 (2025-08)
- âœ… #8389: fix: change oauth refesh logic to refresh every hour - MAVE-32 (2025-08)
- âœ… #8369: fix: revert api audit S3 bucket change PRs - MAV-2725 (2025-08)
- âŒ #8270: fix: issue with Concierge patients logging out multiple times and unpâ€¦ (2025-07)
- âœ… #8249: feat: change view-audit-data script to format output nicely - MAV-2541 (2025-06)
- âœ… #8242: fix: add device cookie to logger metadata - MAV-2536 (2025-06)
- âœ… #8177: fix: fix for auditing SitePaymentPlanCategory - MAV-2484 (2025-06)
- âœ… #8112: feat: add p:tablet_app Mixpanel property to Practice - MAV-2348 (2025-05)
- âœ… #8075: fix: move concierge log out button back to new line - MAV-2374 (2025-05)
- âœ… #8036: feat: add Accept-CH header to make browsers send platform version header along with user agent and log - MAV-2323 (2025-05)
- âœ… #7913: fix: fix redacting of graphql params in logging - MAV-2131 (2025-04)
- âœ… #7887: fix: redact graph params from the logger metadata body - MAV-1968 (2025-03)
- âœ… #7861: fix: include id, uuid and initials when aliasing patient in Mixpanel - MAV-2057 (2025-03)
- âœ… #7851: fix: log normalised path (without numbers) in PMS API audit - MAV-2036 (2025-03)
- âœ… #7850: feat: log details of resource actions by access level - MAV-2037 (2025-03)
- âœ… #7763: fix: change getPatientIdOrThrow to throw error instead of logging - MAV-1748 (2025-03)
- âœ… #7693: feat: add logging for where patient id is expected to be defined but is undefined - MAV-1792 (2025-02)
- âŒ #7618: Bugfix/mav 1717 logging (2025-02)
- âŒ #7617: feat: add availability profiling (MAV-1708) (2025-02)
- âœ… #7566: fix: drop payment_plan_id from primary key on SiteDefaultPaymentPlan(Audit) (2025-01)

### API & Backend (21 PRs)
- âœ… #8508: fix: fix consent service issues - MAVE-227 (2025-09)
- âœ… #8466: fix: add error when graph returns an error from any resolver - MAVE-148 (2025-09)
- âœ… #8443: fix: handle error response from backend in performance dashboards - MAVE-119 (2025-08)
- âœ… #8432: fix: add retry mechanism when making jira api calls - MAVE-103 (2025-08)
- âŒ #8402: fix: prevent recursive invocation alert when oauth goes wrong (2025-08)
- âœ… #8356: fix: update hearbeat on graph requests rather than from a mutation from the frontend - MAV-2705 (2025-07)
- âŒ #8266: feat: update refresh token session to use a blacklist and fix a bug wâ€¦ (2025-07)
- âœ… #8119: refactor: remove access_token secret request from by jwt-authorizer - MAV-1084 (2025-05)
- âœ… #8107: fix: fix issues with start-rds-tunnel - MAV-2445 (2025-05)
- âœ… #8072: fix: add operationName to manage app graph queries - MAV-2365 (2025-05)
- âœ… #8044: docs: add pms oauth refresh setup doc to ADD_NEW_REGION.md - MAV-2329 (2025-05)
- âœ… #7908: fix: remove replication to sydney for global-user-sessions table - MAV-2121 (2025-03)
- âŒ #7882: fix: create graphql service (2025-03)
- âœ… #7676: fix: enable Data API for rds clusters (2025-02)
- âœ… #7652: fix: revert "refactor: enforce practice_id query param when using staff api (#7562)" (2025-02)
- âŒ #7651: fix: handle null or undefined parameters in queryParametersRecordToString (MAV-1745) (2025-02)
- âœ… #7639: fix: increase graph lambda memory from 1024 to 2048 (2025-02)
- âœ… #7584: feat: add required field to patient actions graph (always set to true) (PR 1) (2025-01)
- âŒ #7577: feat: always use dentally practice for staff api X-Practice-Id - DEPENDS ON 7651 (2025-01)
- âœ… #7562: refactor: enforce practice_id query param when using staff api (2025-01)
- âœ… #7550: fix: add generic rate limiting for graphql (2025-01)

### Bug Fixes (69 PRs)
- ğŸŸ¡ #8618: Mave 456 (2025-12)
- âŒ #8612: Trigger CI (2025-12)
- âœ… #8607: fix: lock packages to specific versions - MAVE-436 (2025-11)
- âœ… #8582: fix: revert PRs blocking release - MAVE-374 (2025-10)
- âŒ #8580: fix: hardcode task reminder notification type to sms to fix incident (2025-10)
- âŒ #8579: fix: hardcode task reminder notification type to sms to fix incident (2025-10)
- âœ… #8537: fix: fix kiosk settings issue - MAVE-273 (2025-09)
- âœ… #8533: fix: remove device heartbeat error when device not found - MAVE-193 (2025-09)
- âœ… #8480: fix: quick win fixes for error codes causing prod alerts - MAVE-167 (2025-09)
- âœ… #8468: fix: revert recall action changes - MAVE-152 (2025-09)
- âœ… #8412: fix: fix device heartbeat by moving inside vpc - MAVE-25 (2025-08)
- âœ… #8384: fix: fix PR title check error - MAVE-22 (2025-08)
- âœ… #8379: fix: fix device heartbeat error - MAV-2705 (2025-08)
- âœ… #8375: fix: don't update heartbeat if ui version header is not set - MAV-2730 (2025-08)
- âœ… #8370: fix: fix issues with device version - MAV-2687 (2025-08)
- âœ… #8361: fix: use fetch instead of HttpClient for ping.png - MAV-2714 (2025-08)
- âŒ #8347: Revert "fix: ignore portal_active flag to allow short codes to work fâ€¦ (2025-07)
- âœ… #8285: fix: use pms url parameter for manage app links and practice booking email - MAV-2580 (2025-07)
- âœ… #8250: fix: import issue - MAV-2542 (2025-06)
- âœ… #8246: fix: fix unsubscribe page - MAV-2538 (2025-06)
- âœ… #8230: fix: remove parameters which are no longer needed - MAV-2521 (2025-06)
- âœ… #8226: fix: ignore oneline misspelling - MAV-2518 (2025-06)
- âœ… #8219: fix: correct path for ssl certs when running patient app locally - MAV-2511 (2025-06)
- âœ… #8162: fix: ensure we are passing tsconfig-paths/register flag everywhere we use ts-node - MAV-2472 (2025-06)
- âœ… #8116: fix: ignore 'misspellings' highlighted by eslint - MAV-2447 (2025-05)
- âœ… #8062: fix: ensure correct lang code is sent when creating nhs form - MAV-2353 (2025-05)
- âœ… #8056: fix: custom handling for pip authorize 404 pms error - MAV-2351 (2025-05)
- âœ… #8054: fix: fix language switch button for NHS PR - MAV-2349 (2025-05)
- âœ… #8043: fix: fix patient ready lambda error due to missing variable - MAV-2331 (2025-05)
- âœ… #8040: fix: install semantic release and @semantic-release/exec in release candidate workflow - MAV-2327 (2025-05)
- âœ… #8026: fix: remove aws-xray-sdk and https packages and all related code - MAV-2303 (2025-05)
- âœ… #7991: fix: fix pre-selection of practitioner option for GP17 - MAV-2209 (2025-04)
- âœ… #7990: fix: remove region limited resources app - MAV-2220 (2025-04)
- âœ… #7989: fix: fix devenv script - MAV-2217 (2025-04)
- âœ… #7939: fix: update NHS England prices - MAV-2154 (2025-04)
- âœ… #7897: fix: provide sharp package for stripe payments handler lambda - MAV-2102 (2025-03)
- âœ… #7891: fix: ensure sharp is installed for the lambdas which import it - MAV-2102 (2025-03)
- âŒ #7881: Mav 2039 (2025-03)
- âŒ #7875: fix: use patched version of sst - DRAFT  (2025-03)
- âŒ #7874: fix: provide sharp as external package to SST (2025-03)
- âœ… #7867: fix: provide sharp as external package to SST - MAV-2028 (2025-03)
- âŒ #7866: fix: provide sharp as external package to SST - MAV-2028 (2025-03)
- âŒ #7865: DO NOT REVIEW Mav 2028 2 (2025-03)
- âŒ #7849: fix: install sst from fork - MAV-2028 (2025-03)
- âœ… #7809: fix: remove unused parameters - MAV-1967 (2025-03)
- âœ… #7808: fix: remove mailosaur code and params which are no longer used - MAV-1962 (2025-03)
- âœ… #7805: fix: fix issue rebooking when first attempt fails - MAV-1759 (2025-03)
- âŒ #7795: Mav 1833 (2025-03)
- âœ… #7786: fix: only assign next appointment to patient document when signing NHS PR - MAV-1858 (2025-03)
- âŒ #7774: fix: only assign next appointment to patient document when signing NHS PR - MAV-1858 (2025-03)
- âœ… #7733: fix: concierge should only show actions for todays appointments - MAV-1833 (2025-02)
- âœ… #7701: fix: handle multiple actions of the same type but for different appointments - MAV-1830 (2025-02)
- âŒ #7683: fix: error when patient id is not set but is being used - MAV-1792 (2025-02)
- âœ… #7682: fix: ui issue with marking gp 17 action as completed - MAV-1781 (2025-02)
- âœ… #7680: style: make formatting consistent for whole codebase - MAV-1776 (2025-02)
- âœ… #7669: fix: run prettier formatting on all files (2025-02)
- âŒ #7655: fix: change patient id on context wrapper to be optionally typed - MAV-1748 DEPENDS ON 7683 (2025-02)
- âœ… #7644: fix: fix book together edge case leading to deposits taken without booking appointment (MAV-1733) (2025-02)
- âŒ #7635: Feature/mav 1703 bugsnag improvements and hc3 fix (2025-02)
- âœ… #7633: fix: fix no space directive to handle decimals (MAV-1725) (2025-02)
- âœ… #7605: fix: smile goals fixes (2025-01)
- âœ… #7599: fix: fix getStandardPaymentPlan to take payment plan site_id into account (2025-01)
- âœ… #7596: fix: remove temporary code now that everything released (2025-01)
- âœ… #7587: fix: remove uses of use-patient-actions feature flag (2025-01)
- âœ… #7586: fix: change backend to always return all patient actions (with required field) (2025-01)
- âœ… #7583: fix: show FP17 action on concierge regardless of site settings (2025-01)
- âŒ #7582: Mav 1588 2 (2025-01)
- âœ… #7569: fix: remove 'temporary' fix to remove multiple SiteDefaultPaymentPlans for a site (2025-01)
- âœ… #7558: fix: handle site default_payment_plan_id being a none existent Payment Plan (MAV-1613) (2025-01)

### Features (24 PRs)
- âœ… #8382: fix: fix new patient flow when existing patient found - MAVE-18 (2025-08)
- âŒ #8333: fix: change to cause new js file names - No need to review (2025-07)
- âœ… #8238: fix: add a reset data button to the concierge error page when app fails to initialise - MAV-2532 (2025-06)
- âœ… #8228: feat: add site nickname to 'All site appointment details, for all sites' report - MAV-2520 (2025-06)
- âŒ #8096: feat: add No Actions Due metric - MAV-2320 (2025-05)
- âœ… #8090: feat: add eslint rule for importing environment.sst directly - MAV-2394 (2025-05)
- âœ… #7958: feat: add eslint rule to prevent using sharp package directly - MAV-2175 (2025-04)
- âœ… #7940: feat: improvement to DX - automatically update security group to include IP if ssh times out - MAV-2158 (2025-04)
- âœ… #7900: fix: add tsconfig to stage-region-limited-resources - MAV-2114 (2025-03)
- âœ… #7899: fix: add linting and fix issues for ci-cd - MAV-2112 (2025-03)
- âœ… #7813: feat: add refresh cache step to check for SitePaymentPlan issue - MAV-1978 (2025-03)
- âœ… #7789: fix: fix bug with tracking NHS PR Action Done metric - MAV-1929 (2025-03)
- âŒ #7776: fix: fix bug with tracking NHS PR Action Done metric - MAV-1929 (2025-03)
- âŒ #7708: feat: only request today's actions for concierge - MAV-7708 (2025-02)
- âœ… #7689: feat: deprecate db service and db async service - MAV-1812 (2025-02)
- âœ… #7667: feat: add pr title check for ticket number - MAV-1720 (2025-02)
- âŒ #7615: feat: add danger file warning for missing issue number in pr title (2025-02)
- âœ… #7592: feat: plug in creation for new patient smile goal (2025-01)
- âœ… #7585: feat: handle patient actions with required=false on front end (2025-01)
- âŒ #7581: feat: remove nhs pr exemption and reason from NHS PR page (2025-01)
- âœ… #7539: fix: add appointment_ids param when creating patient document for FP17 (2025-01)
- âŒ #7526: fix: add appointment_ids param when creating patient document for FP17 - FE (2025-01)
- âŒ #7525: fix: add appointment_ids param when creating patient document for FP17 - BE (2025-01)
- âœ… #7517: fix: fix pusher error when refreshing cache with new practitioner (2025-01)

### Refactoring (3 PRs)
- âŒ #8408: Revert "refactor: device heartbeat improvements - MAVE-25 (#8387)" (2025-08)
- âœ… #8387: refactor: device heartbeat improvements - MAVE-25 (2025-08)
- âœ… #7568: refactor: move multiVariateFeature to fix backend linting error (2025-01)
